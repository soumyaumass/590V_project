<!DOCTYPE HTML>
<!--
	Stellar by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Stellar by HTML5 UP</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">
		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header" class="alt">
						<span class="logo"><img src="images/logo.svg" alt="" /></span>
						<h1>How true are "True Stories"?</h1>
						<p> Soumya Saha, Sreeparna Mukherjee, Subhajit Naskar <br />
						</header>

				<!-- Nav -->
					<nav id="nav">
						<ul>
							<li><a href="#intro" class="active">Introduction</a></li>
							<li><a href="#first">First Section</a></li>
							<li><a href="#second">Second Section</a></li>
							<li><a href="#cta">Get Started</a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Introduction -->
							<section id="intro" class="main">
								<div class="spotlight">
									<div class="content">
										
									</div>
								</div>
							</section>

						<!-- First Section -->
							<section id="first" class="main special">
								<header class="major">
									<h2>Magna veroeros</h2>
								</header>
								
								<footer class="major">
									
								</footer>
							</section>

						<!-- Second Section -->
							<section id="second" class="main special">
								<header class="major">
									
								</header>
								
								<footer class="major">
									
								</footer>
							</section>

						<!-- Get Started -->
							<section id="cta" class="main special">
								<header class="major">
									
								</header>
								<footer class="major">
									
								</footer>
							</section>

					</div>


				<!-- Footer -->
					<footer id="footer">
						<section>
							
						</section>
						<section>
							
						</section>
						<p class="copyright">&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
					</footer>

			</div>

		<!-- Scripts -->
			<script src='https://d3js.org/d3.v4.min.js'></script>
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script type="text/javascript">

			//Width and height
			var w = 900;
			var h = 300;
			var padding = 0;
			var dataset = ["Selma.csv","TheSocialNetwork.csv","12YearsaSlave.csv","AmericanSniper.csv","BohemianRhapsody.csv","BridgeofSpies.csv","CaptainPhillips.csv","DallasBuyersClub.csv","HiddenFigures.csv","Lion.csv","Philomena.csv","Rush.csv","Spotlight.csv","TheBigShort.csv","TheImitationGame.csv","TheKingsSpeech.csv","WolfofWallStreet.csv"];
			for(i = 0; i < 17; i++){
				// d3.csv("./dallas.csv", function(data) {
				d3.csv("./data/Cleaned_data/"+dataset[i], function(data) {

				var dataset = data;
				var sum = 0;
				var prev_sum = 0;

				xScale = d3.scaleTime()
							   .domain([
									0,
									d3.sum(dataset, function(d) { return d.duration; })  // 7137
								])
							   .range([padding, w - padding]);

				var svg = d3.select(".content")
					.append("svg")
					.attr("width", w)
					.attr("height", h);

				svg.selectAll("rect")
				   .data(dataset)
				   .enter()
				   .append("rect")
				   .attr("x", function(d) {
				   		prev_sum = sum;
				   		sum += +d.duration;
				   		console.log(xScale(prev_sum));
				   		return xScale(prev_sum);
				   })
				   .attr("y", 0)
				   .attr("width", function(d) {
				   		console.log(d.duration, xScale(d.duration));
				   		return xScale(+d.duration);
				   })
				   .attr("height", 100)
				   .attr("fill",  function(d) {
				   		switch(+d.truth_int) {
				   			case 3:
				   				return "#05103f";
				   				break;
				   			case 2:
				   				return "#5162ad";
				   				break;
				   			case 1:
				   				return "#a84a58";
				   				break;
				   			case 0:
				   				return "#540410";
				   				break;
				   			case -1:
				   				return "#bdbf91";
				   				break;
				   			default:
				   				return "#bdbf91";
				   				break;
				   		} 
				   });

			});
			}

			</script>
	</body>
</html>


